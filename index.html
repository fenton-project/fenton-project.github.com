<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href='https://fonts.googleapis.com/css?family=Architects+Daughter' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print" />

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <title>Fenton Project - SSH Key Management</title>
  </head>

  <body>
    <header>
      <div class="inner">
        <h1>Fenton Project</h1>
        <h2>SSH Key Management</h2>
        <a href="https://github.com/fenton-project" class="button"><small>View projects on</small>GitHub</a>
      </div>
    </header>

    <div id="content-wrapper">
      <div class="inner clearfix">
        <section id="main-content">


          <h3>
            <a name="key-signed" class="anchor" href="#key-signed">
              <span class="octicon octicon-link">
              </span>
            </a>
            How to get a key signed
          </h3>

          <p>Command line client that interfaces with Fenton Server, which eases SSH Key Management.</p>

<pre><code>$ fenton key sign
Signing public key.
Enter public key to submit (/home/nictrix/.ssh/id_ecdsa.pub): 
Signed user key
    ID: 'Nick Willever'
    Serial: 7003768346854646072
    Principal: ubuntu
    Valid Between: 2013-10-19-11:02:15 PM - 2013-10-20-12:17:15 AM
(/home/nictrix/.ssh/id_ecdsa-cert.pub)
$ ssh ubuntu@&lt;server&gt;
</code></pre>

          <p>(this assumes you have a running instance of <a href="https://github.com/fenton-project/server-api">fenton server-api</a>)</p>
        
          <h3>
            <a name="why" class="anchor" href="#why">
              <span class="octicon octicon-link">
              </span>
            </a>
            Why?
          </h3>
          
          <p>
            User management is boring and tedious, it comes down to one thing, someone you trust needs to get access to your servers. 
            What do you do? SSH for loop FTW! And what about when you stop trusting that person?
            Yeah... and when you have utility computing everywhere doing that loop a couple times a day or even through a configuration management tool is not worth the trouble.
          </p>
          
          <p>
            Instead use SSH Certificates they allow you to configure a server for trusting signed user SSH keys. It will allow you to:
          </p>
          
          <p>
            <ul>
              <li>
                Sign them for specific time period
              </li>
              <li>
                Revoke them
              </li>
              <li>
                Option to share 1 account or give each user their own account
              </li>
              <li>
                Great for vendors, contractors, etc...
              </li>
              <li>
                Great for machine access like nagios and others
              </li>
              <li>
                Can force commands without the problem of SFTP chroot, etc..
              </li>
              <li>
                Can lock the signed key to specific hosts and where the hosts are being accessed from
              </li>
            </ul>
          </p>

          <h3>
            <a name="basics" class="anchor" href="#basics">
              <span class="octicon octicon-link">
              </span>
            </a>
            Basics of SSH Certificates
          </h3>

          <p>
            <ul>
              <li>
                Create a CA private & public key      
              </li>
              <li>
                Add the CA public key to the server that is needing to be accessed (update /etc/ssh/sshd_config)
              </li>
              <li>
                Sign the user's public ssh key with the CA private key (creates a file -cert.pub)
              </li>
              <li>
                They can now ssh with their private key because of the *-cert.pub file
              </li>
            </ul>
          </p>
        </section>

        <aside id="sidebar">
          <a href="https://github.com/fenton-project/shell/tarball/master" class="button">
            <small>Shell Download</small>
            .tar.gz file
          </a>
          
          <a href="https://github.com/fenton-project/server-api/tarball/master" class="button">
            <small>Server (API) Download</small>
            .tar.gz file
          </a>

          <p class="repo-owner"><a href="https://github.com/fenton-project"></a> is maintained by <a href="https://github.com/fenton-project">fenton-project</a>.</p>

          <p>This page was generated by <a href="pages.github.com">GitHub Pages</a> using the Architect theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.</p>
        </aside>
      </div>
    </div>

  
  </body>
</html>
